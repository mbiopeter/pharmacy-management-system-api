import ValidationException from '../errors/ValidationException.js';
import StringField from './StringField.js';
export default class RegexpField extends StringField {
    regexp;
    errorCode;
    errorMessage;
    constructor(regexp, errorCode = 'patternMismatch', errorMessage = `String not matching regular expression ${regexp}`) {
        super();
        this.regexp = regexp;
        this.errorCode = errorCode;
        this.errorMessage = errorMessage;
    }
    validateString(value) {
        const strValue = super.validateString(value);
        if (this.regexp.test(strValue)) {
            return strValue;
        }
        throw new ValidationException(this.errorCode, this.errorMessage);
    }
}
