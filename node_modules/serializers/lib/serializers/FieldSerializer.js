import { difference, empty, keys, omit, pick } from 'immuton';
import BaseSerializer from './BaseSerializer.js';
import OptionalSerializer from './OptionalSerializer.js';
export default class FieldSerializer extends BaseSerializer {
    fields;
    constructor(fields) {
        super();
        this.fields = fields;
    }
    pick(attrs) {
        return new FieldSerializer(pick(this.fields, attrs));
    }
    omit(attrs) {
        return new FieldSerializer(omit(this.fields, attrs));
    }
    require(required) {
        return new OptionalSerializer(required, this.fields);
    }
    optional(optional) {
        return new OptionalSerializer(difference(keys(this.fields), optional), this.fields);
    }
    partial() {
        return this.require(empty);
    }
    extend(fields) {
        return new FieldSerializer({ ...this.fields, ...fields });
    }
}
